# Generated by Ollama Llama 3
# Task: reset_condition_change_minimal
# Attempt: 9
# Success: False
# Overall Score: 0.438

import pyverilog.ast.utils as utils
from pyverilog.visitor import Visitor


class ResetVisitor(Visitor):

    def __init__(self, *args):
        super().__init__(*args)
        self._find_reset = False

    def visit_if(self, node):
        if 'rst' in node.cond.args:
            self._find_reset = True
            return None

    def visit_posedge(self, node):
        if not self._find_reset:
            return None
        else:
            self._find_reset = False
            return ['negedge']

    def visit_negedge(self, node):
        if not self._find_reset:
            return None
        else:
            self._find_reset = False
            return ['posedge']


def reset_active_high_to_low(code):
    visitor = ResetVisitor()
    visitor.visit(utils.parse_verilog(code))
    result = visitor.generate_code()
    return result


def reset_active_low_to_high(code):
    visitor = ResetVisitor()
    visitor.visit(utils.parse_verilog(code))
    result = visitor.generate_code()
    return result